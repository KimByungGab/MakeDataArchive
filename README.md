패킷 데이터를 송수신하면서 느낀 점은 다양한 사이즈를 받을 수 있었으면 좋겠다고 생각했었다.<br>
그래서 각기 다른 형태의 데이터를 받기 위하여 int, short 등 각 타입마다 오버로딩 함수를 이용하였다.<br>
하지만 코드의 양이 너무 길었다. 예를 들어 int, short 타입을 받는다고 가정하면<br>
int A = DK.GetInt();<br>
int B = DK.GetShort();<br>
와 같은 형태가 되어버려서 넣어야 할 양이 많아지면 너무 코드의 양이 길어졌다. 때문에 이 행동을 줄이고 싶었다.<br>
여러가지를 찾아보던 중 연산자 오버로딩을 이용해서 처리하면 더욱 매끄럽게 처리될거라고 생각이 들었다.<br>
개발자는 단지 오버로딩되는 >>와 <<만 이용하면 되고 어떤 타입이 들어갈지는 굳이 파악하지 않아도 되기 때문이었다.<br>
그렇게 해서 더욱 간편한 라이브러리가 만들어졌다.<br>
DK >> A >> B;<br>
타입을 굳이 신경쓰지 않아도 되니 더욱 간편해진 스타일이 마음에 들었다.<br>
하지만 세번째로 신경쓰이는 것이 라이브러리의 코드가 길어졌다는 점은 변함이 없었다.<br>
사실 더 늘릴 이유는 없기 때문에 굳이 건드리지 않아도 되지만 생각해보면 같은 코드일 뿐이고 사이즈만 다르기 때문에 낭비가 심했다.<br>
생각을 한번 해 본 결과 답이 나온 것이 템플릿이었다.<br>
때문에 템플릿 코드 하나로 고정 길이의 타입을 사용하니 라이브러리의 코드도 깔끔해졌다.<br>
아쉽긴 하지만 wstring은 가변길이라서 문자열의 길이를 int형으로 받고 문자열 데이터를 집어넣었다.<br>
<br>
만족스러운 결과인만큼 나중에 사이드 프로젝트때 이것 또한 가져와서 사용해야겠다.<br>
